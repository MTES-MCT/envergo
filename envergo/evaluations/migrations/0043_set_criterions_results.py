# Generated by Django 3.2.6 on 2022-01-06 13:46

from django.db import migrations


def set_criterions_results(apps, schema_editor):
    Criterion = apps.get_model("evaluations", "Criterion")
    very_likely_probability = 4

    for criterion in Criterion.objects.all():
        if criterion.probability >= very_likely_probability:
            criterion.result = 1  # soumis
        else:
            criterion.result = 2  # non soumis
        criterion.save()


class Migration(migrations.Migration):

    dependencies = [
        ("evaluations", "0042_auto_20220106_1328"),
    ]

    operations = [
        migrations.RunPython(set_criterions_results),
    ]
